<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Dashboard Page</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
            integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
            crossorigin="anonymous"
        />
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
            integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
            crossorigin="anonymous"
        ></script>
        <style>
            .row.content {
                height: 500px;
            }
            footer {
                background-color: #555;
                color: white;
                padding: 15px;
            }
        </style>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const form = document.getElementById("userForm");

                form.addEventListener("submit", (event) => {
                    event.preventDefault(); // Prevent the default form submission

                    const formData = {
                        first_name: document.getElementById("firstName").value,
                        last_name: document.getElementById("lastName").value,
                        license_no:
                            document.getElementById("licenseNumber").value,
                        age: document.getElementById("age").value,
                        make: document.getElementById("make").value,
                        model: document.getElementById("model").value,
                        year: document.getElementById("year").value,
                        plat_no: document.getElementById("plateNumber").value,
                    };

                    fetch("http://localhost:3000/api/users", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify(formData),
                    })
                        .then((response) => response.json())
                        .then((data) => {
                            alert("Data Saved Successfully");
                            window.location.href = "/g";
                        })
                        .catch((error) => {
                            console.error(error);
                            alert(error + "Data not saved successfully.");
                        });
                });
            });
        </script>
    </head>
    <body>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4">
            <a class="navbar-brand" href="/">BOOK DRIVE TEST</a>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="/dashboard">DASHBOARD</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/g2">G_2 TEST</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/g">G TEST</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/login">LOGIN</a>
                </li>
            </ul>
        </nav>

        <div class="container-fluid text-center">
            <div class="row justify-content-center">
                <div class="col-md-8 my-4">
                    <div class="card">
                        <div class="card-header">User Data Entry</div>
                        <div class="card-body">
                            <!-- Personal Information Section -->
                            <h5 class="card-title mt-3">
                                Personal Information
                            </h5>
                            <form class="text-start" id="userForm">
                                <div class="form-row">
                                    <div class="form-group my-2 col-md-12">
                                        <label for="firstName"
                                            >First Name</label
                                        >
                                        <input
                                            type="text"
                                            class="form-control"
                                            id="firstName"
                                            placeholder="First Name"
                                        />
                                    </div>
                                    <div class="form-group my-2 col-md-12">
                                        <label for="lastName">Last Name</label>
                                        <input
                                            type="text"
                                            class="form-control"
                                            id="lastName"
                                            placeholder="Last Name"
                                        />
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group my-2 col-md-12">
                                        <label for="licenseNumber"
                                            >License Number</label
                                        >
                                        <input
                                            type="text"
                                            class="form-control"
                                            id="licenseNumber"
                                            placeholder="License Number (8 characters)"
                                        />
                                    </div>
                                    <div class="form-group my-2 col-md-12">
                                        <label for="age">Age</label>
                                        <input
                                            type="number"
                                            class="form-control"
                                            id="age"
                                            placeholder="Age"
                                        />
                                    </div>
                                </div>
                                <div class="form-group my-2">
                                    <label for="dob">Date of Birth</label>
                                    <input
                                        type="date"
                                        class="form-control"
                                        id="dob"
                                    />
                                </div>
                                <!-- Car Information Section -->
                                <h5 class="card-title text-center mt-5">
                                    Car Information
                                </h5>

                                <div class="form-row">
                                    <div class="form-group my-2 col-md-12">
                                        <label for="make">Make</label>
                                        <input
                                            type="text"
                                            class="form-control"
                                            id="make"
                                            placeholder="Car Make"
                                        />
                                    </div>
                                    <div class="form-group my-2 col-md-12">
                                        <label for="model">Model</label>
                                        <input
                                            type="text"
                                            class="form-control"
                                            id="model"
                                            placeholder="Car Model"
                                        />
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group my-2 col-md-12">
                                        <label for="year">Year</label>
                                        <input
                                            type="text"
                                            class="form-control"
                                            id="year"
                                            placeholder="Car Year"
                                        />
                                    </div>
                                    <div class="form-group my-2 col-md-12">
                                        <label for="plateNumber"
                                            >Plate Number</label
                                        >
                                        <input
                                            type="text"
                                            class="form-control"
                                            id="plateNumber"
                                            placeholder="Plate Number"
                                        />
                                    </div>
                                </div>

                                <!-- Submit Button -->
                                <button type="submit" class="btn btn-primary">
                                    Submit
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer class="container-fluid text-center">
            <p>Update soon</p>
        </footer>
    </body>
</html>
